{% extends "base.html" %}

{% block content %}
<div class="container mt-5 text-center">
    <h1 class="display-4 mb-4">Gráficos Comparativos</h1>
    
    <!-- Botões para selecionar os gráficos -->
    <div id="button-container" class="d-flex justify-content-center flex-wrap gap-3 mb-4">
        <button class="btn btn-outline-success btn-lg" onclick="mostrarGrafico('comparacao_material_multiplas_linhas.png')">
            Material - Múltiplas Linhas
        </button>
        <button class="btn btn-outline-success btn-lg" onclick="mostrarGrafico('comparacao_material.png')">
            Material
        </button>
        <button class="btn btn-outline-success btn-lg" onclick="mostrarGrafico('comparacao_tempos_multiplas_linhas.png')">
            Tempos - Múltiplas Linhas
        </button>
        <button class="btn btn-outline-success btn-lg" onclick="mostrarGrafico('comparacao_tempos.png')">
            Tempos
        </button>
    </div>
    
    <!-- Container para exibição do gráfico -->
    <div class="graph-container mt-4">
        <!-- Por padrão, exibe o primeiro gráfico -->
        <img id="grafico" src="{{ url_for('serve_graphics', filename='comparacao_material_multiplas_linhas.png') }}" alt="Gráfico Comparativo" class="img-fluid rounded shadow-lg border border-secondary">
    </div>
    
    <!-- Botão para voltar -->
    <div class="mt-4">
        <a href="{{ url_for('index') }}" class="btn btn-primary btn-lg">Voltar</a>
    </div>
</div>

<script>
    // Base URL para os gráficos
    const baseUrl = "{{ url_for('serve_graphics', filename='') }}";

    // Função que atualiza a imagem exibida conforme o botão clicado
    function mostrarGrafico(nomeGrafico) {
        const grafico = document.getElementById('grafico');
        grafico.classList.add('fade-out');
        setTimeout(() => {
            grafico.src = baseUrl + nomeGrafico;
            grafico.classList.remove('fade-out');
        }, 200);
    }
</script>

<style>
    .fade-out {
        opacity: 0;
        transition: opacity 0.2s ease-out;
    }

    .btn-outline-success:hover {
        background-color: #28a745;
        color: white;
    }

    .graph-container {
        max-width: 90%;
        margin: auto;
    }

    img {
        max-height: 500px;
        transition: opacity 0.2s ease-in;
    }
</style>
{% endblock %}
